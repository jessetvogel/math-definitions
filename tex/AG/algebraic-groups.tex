\begin{topic}{algebraic-group}{algebraic group}
    An \textbf{algebraic group} is a \tref{variety}{variety} $G$ which is also a \tref{GT:group}{group}, such that the multiplication map $G \times G \to G$ and the inversion map $G \to G$ are morphisms of varieties.
\end{topic}

\begin{example}{algebraic-group}
    \begin{itemize}
        \item Linear groups such as $\textup{GL}_n(k)$ and $\textup{SL}_n(k)$ can be realized as subvarieties of $\AA^{n^2}$ where the determinant does not vanish, or is equal to one, respectively.
        \item Finite groups can be realized as a disjoint union of points, that is, $\Spec (k^G)$.
        \item Elliptic curves, or more generally \tref{abelian-variety}{abelian varieties}.
    \end{itemize}
\end{example}

\begin{topic}{radical-algebraic-group}{radical algebraic group}
    The \textbf{radical} of an \tref{algebraic-group}{algebraic group} is the identity component of its maximal \tref{GT:normal-subgroup}{normal} \tref{GT:solvable-group}{solvable} \tref{GT:subgroup}{subgroup}.
\end{topic}

\begin{topic}{reductive-algebraic-group}{(linearly) reductive algebraic group}
    An \tref{algebraic-group}{algebraic group} $G$ is \textbf{reductive} if its \tref{radical-algebraic-group}{radical} is a torus.
    
    The algebraic group $G$ is \textbf{linearly reductive} if every \tref{RT:representation}{representation} of $G$ is \tref{RT:irreducible-representation}{semisimple}.
    
    In characteristic zero, the two notions are equivalent.
\end{topic}

\begin{example}{reductive-algebraic-group}
    \begin{itemize}
        \item Any finite group is reductive.
        \item The groups $\mathbb{G}_m, \textup{GL}_n(\CC), \textup{SL}_n(\CC)$ and $\textup{PGL}_n(\CC)$ are all reductive. 
        \item A group which is not reductive is $\mathbb{G}_a$. Namely, since it is solvable (it is abelian) its radical is $\mathbb{G}_a$, which is not a torus. Also, we see that it is not linearly reductive: take $V = k^2$ with $\mathbb{G}_a$ acting via $t \cdot (x, y) = (x + ty, y)$. Then $U := k \cdot (1, 0) \subset V$ is a sub-$k[\mathbb{G}_a]$-module, but $V \not\isom U \oplus (V / U)$.
    \end{itemize}
\end{example}

\begin{topic}{algebraic-torus}{(split) algebraic torus}
    An \textbf{algebraic torus} $T$ over a field $k$ is an \tref{algebraic-group}{algebraic group} which, over an \tref{AA:algebraic-closure}{algebraic closure} $\overline{k}$ of $k$, is isomorphic to a finite product of copies of $\mathbb{G}_m = \Spec \overline{k}[t, t^{-1}]$, that is
    \[ T \times_k \overline{k} \isom \Spec \overline{k}[t_1, t_1^{-1}, \ldots, t_r, t_r^{-1}] , \]
    where $r$ is called the \textit{rank} of the algebraic torus $T$.
    
    The torus $T$ is \textbf{split} if it is isomorphic to a finite product of copies of $\mathbb{G}_m$ over $k$.
\end{topic}

\begin{example}{algebraic-torus}
    Over $k = \RR$, there are up to isomorphism two algebraic tori of rank one:
    \begin{itemize}
        \item the torus $\GG_m = \Spec \RR[t, t^{-1}]$,
        \item the unitary group $U(1) = \Spec \RR[x, y] / (x^2 + y^2 - 1)$. Indeed we have
        \[ U(1) \times_\RR \CC = \Spec \CC[x, y] / (x^2 + y^2 - 1) \isom \Spec \CC[z, z^{-1}] \]
        via the isomorphism $z = x + iy$ and $z^{-1} = x - iy$.
    \end{itemize}
\end{example}

\begin{example}{algebraic-torus}
    There is an \tref{CT:equivalence-of-categories}{equivalence of categories} between the category of algebraic tori over $k$ and the (opposite) category of $\textup{Gal}(\overline{k}/k)$-lattices, that is, $\textup{Gal}(\overline{k}/k)$-modules which are free abelian groups of finite rank. The equivalence is given by the functors
    \[ \begin{aligned}
        \textbf{AlgTor}_k \to \left(\textup{Gal}(\overline{k}/k)\textbf{-Lat}\right)^\textup{op}, & \quad T \mapsto X^*(T) = \Hom_{\textbf{AlgGrp}}(\overline{T}, \GG_m) , \\
        \left(\textup{Gal}(\overline{k}/k)\textbf{-Lat}\right)^\textup{op} \to \textbf{AlgTor}_k, & \quad M \mapsto \Spec(\overline{k}[M])^{\textup{Gal}(\overline{k}/k)} .
    \end{aligned} \]
\end{example}

\begin{topic}{borel-subgroup}{Borel subgroup}
    A \textbf{Borel subgroup} of an \tref{algebraic-group}{algebraic group} $G$ is a maximal \tref{TO:connected-space}{connected} \tref{GT:solvable-group}{solvable} \tref{GT:subgroup}{subgroup} of $G$.
\end{topic}

\begin{example}{borel-subgroup}
    For $G = \textup{GL}_n(k)$, the subgroup of invertible upper triangular matrices is a Borel subgroup.
\end{example}

% \begin{example}{borel-subgroup}
%     When the ground field $k$ is algebraically closed, all Borel subgroups are conjugate.
% \end{example}

\begin{topic}{parabolic-subgroup}{parabolic subgroup}
    A \textbf{parabolic subgroup} of an \tref{algebraic-group}{algebraic group} $G$ is a \tref{GT:subgroup}{subgroup} $P \subset G$ containing a \tref{borel-subgroup}{Borel subgroup}.
    
    Equivalently, a subgroup $P \subset G$ is parabolic if the quotient space $G/P$ is a \tref{complete-variety}{complete variety}.
\end{topic}

\begin{topic}{lie-kolchin-theorem}{Lie--Kolchin theorem}
    The \textbf{Lie--Kolchin theorem} states that any \tref{GT:solvable-group}{solvable}, \tref{smooth-morphism}{smooth}, \tref{TO:connected-space}{connected} \tref{algebraic-group}{algebraic group} $G$ over an \tref{AA:algebraically-closed-field}{algebraically closed field} $k$ is \tref{triangularizable-algebraic-group}{triangularizable}.
\end{topic}

\begin{example}{lie-kolchin-theorem}
    The conditions in the above theorem are all necessary:
    \begin{itemize}
        \item (\textit{connected}) The algebraic group $G = \left\{ \begin{pmatrix} 1 & 0 \\ 0 & 1 \end{pmatrix}, \begin{pmatrix} 0 & 1 \\ 1 & 0 \end{pmatrix} \right\} \isom \ZZ/2\ZZ$ is smooth and solvable, but not connected. Also $G$ is not triangularizable, since for the natural representation of $G$ on $k^2$, the two matrices have no common eigenvector.
        \item (\textit{smooth}) Let $k$ be an (algebraically closed) field of characteristic $2$, and let $G \subset \textup{SL}_2$ be the algebraic group given by
        \[ G(R) = \left\{ \begin{pmatrix} a & b \\ c & d \end{pmatrix} \in \textup{Mat}_{2 \times 2}(R) : a^2 = d^2 = 1 \textup{ and } b^2 = c^2 = 0 \right\} . \]
        Then $G$ is connected (topologically it is a point) but not smooth, and the exact sequence
        \[ 1 \to \mu_2 \xrightarrow{a \mapsto \left(\begin{smallmatrix} a & 0 \\ 0 & a \end{smallmatrix}\right)} G \xrightarrow{\left(\begin{smallmatrix} a & b \\ c & d \end{smallmatrix}\right) \mapsto (ab, cd)} \alpha_2 \times \alpha_2 \to 1 \]
        shows that $G$ is solvable. However, $G$ is not triangularizable since the natural action of $G$ on $k^2$ does not fix any line.
        \item (\textit{solvable}) Any triangularizable group is solvable.
        \item (\textit{algebraically closed}) Let $k = \RR$ and consider the algebraic group $G$ given by
        \[ G(R) = \left\{ \begin{pmatrix} a & -b \\ b & a \end{pmatrix} \in \textup{Mat}_{2 \times 2}(R) : a^2 + b^2 = 1 \right\} . \]
        Then $G$ is solvable (since it is abelian), connected and smooth. However it is not triangularizable since it does not have eigenvectors when acting naturally on $\RR^2$.
    \end{itemize}
\end{example}

\begin{topic}{triangularizable-algebraic-group}{triangularizable algebraic group}
    An \tref{algebraic-group}{algebraic group} $G$ is \textbf{triangularizable} if every non-zero representation of $G$ has a one-dimensional subrepresentation.
\end{topic}

\begin{example}{triangularizable-algebraic-group}
    The algebraic group $\mathbb{T}_n$ of upper triangular $n \times n$ matrices,
    \[ \mathbb{T}_n = \left\{ \begin{pmatrix} * & * & \cdots & * \\ 0 & * & \cdots & * \\ \vdots & \vdots & \ddots & \vdots \\ 0 & 0 & \cdots & * \end{pmatrix} \right\} , \]
    is triangularizable, as well as any subgroup of $\mathbb{T}_n$.
\end{example}

\begin{example}{triangularizable-algebraic-group}
    Triangularizable groups can be characterized in a number of ways. The following are all equivalent.
    \begin{enumerate}[(i)]
        \item $G$ is triangularizable.
        \item For every representation $(V, \rho)$ of $G$, there exists a basis of $V$ for which $\rho(G) \subset \mathbb{T}_n$, with $n = \dim V$.
        \item $G$ is isomorphic to an algebraic subgroup of $\mathbb{T}_n$ for some $n$.
        \item There exists a \tref{GT:normal-subgroup}{normal} \tref{unipotent-algebraic-group}{unipotent} algebraic subgroup $U$ of $G$ such that $G/U$ is diagonalizable.
    \end{enumerate}
    \begin{proof}
        $(i \Rightarrow ii)$ Proof by induction on $n = \dim V$, where the case $n = 0$ is trivial. For $n > 0$, pick $e_1 \in V$ such that $\langle e_1 \rangle$ is a subrepresentation of $V$. The induction hypothesis on $V / \langle e_1 \rangle$ gives a basis $\overline{e}_2, \ldots, \overline{e}_n$ for $V / \langle e_1 \rangle$ such that $G$ acts via $\mathbb{T}_{n - 1}$. Lifting each $\overline{e}_i$ to some $e_i \in V$ gives a basis $e_1, \ldots, e_n$ of $V$ such that $G$ acts via $\mathbb{T}_n$.
        
        $(ii \Rightarrow iii)$ Apply $(ii)$ to a faithful finite-dimensional representation of $G$.
        
        $(iii \Rightarrow iv)$ Embed $G \subset \mathbb{T}_n$ and let $U = G \cap \mathbb{U}_n$. Then $U \subset G$ is normal and unipotent since $\mathbb{U}_n \subset \mathbb{T}_n$ is. Now $G/U$ injects into $\mathbb{T}_n/\mathbb{U}_n \isom \mathbb{G}_m^n$, and a subgroup of a diagonalizable group is diagonalizable.
        
        $(iv \Rightarrow i)$ Take some $U \subset G$ as in $(iv)$ and a representation $(V, r)$ of $G$. Since $U$ is unipotent, we have $V^U \ne 0$, and since $U$ is normal in $G$, we have that $V^U$ is stable under $G$. Namely, for any $v \in V^U$ with $n \in U(k)$ and $g \in G(k)$ we find that
        \[ r(n) r(g) v = r(ng) v = r(gn') v = r(g) r(n') v = r(g) v , \]
        with $n' = g^{-1} n g \in U(k)$, so $r(g) v \in V^U$ as well. Hence $G/U$, which is diagonalizable, acts on $V^U$, so $V^U \ne 0$ is the sum of $1$-dimensional subrepresentations. In particular, there exists a one-dimensional subrepresentation of $V$.
    \end{proof}
\end{example}

\begin{topic}{unipotent-algebraic-group}{unipotent algebraic group}
    An \tref{algebraic-group}{algebraic group} $G$ is \textbf{unipotent} if every non-zero representation of $G$ has a non-zero fixed vector.
\end{topic}

\begin{example}{unipotent-algebraic-group}
    The algebraic group $\mathbb{U}_n$ of upper triangular $n \times n$ matrices with ones on the diagonal,
    \[ \mathbb{U}_n = \left\{ \begin{pmatrix} 1 & * & * & \cdots & * \\ 0 & 1 & * & \cdots & * \\ \vdots & \vdots & \vdots & \ddots & \vdots \\ 0 & 0 & 0 & \cdots & 1 \end{pmatrix} \right\} , \]
    is unipotent, as well as any subgroup of $\mathbb{U}_n$.
\end{example}

\begin{topic}{special-algebraic-group}{special algebraic group}
    A linear \tref{algebraic-group}{algebraic group} $G \subset \textup{GL}_n$ is \textbf{special} if every \tref{TO:principal-bundle}{principal $G$-bundle} is locally trivial in the Zariski topology.
\end{topic}

\begin{example}{special-algebraic-group}
    \begin{itemize}
        \item The groups $\mathbb{G}_m, \mathbb{G}_a, \textup{GL}_n, \textup{SL}_n, \textup{Sp}_{2n}$ are special algebraic groups.
        \item Any extension of special algebraic groups is special. In particular, the groups of upper triangular matrices $\mathbb{T}_n$ are special as they can be obtained via extensions from $\mathbb{G}_m$ and $\mathbb{G}_a$.
        \item The group $\ZZ/2\ZZ$ is not special, as the morphism $\Spec k[x, x^{-1}] \to \Spec k[y, y^{-1}]$ given by $y = x^2$ is a principal $\ZZ/2\ZZ$-bundle, which is not locally trivial in the Zariski topology.
    \end{itemize}
\end{example}

\begin{topic}{kummer-sequence}{Kummer sequence}
    The \textbf{Kummer sequence} is the short exact sequence of \tref{algebraic-group}{algebraic groups}
    \[ 0 \to \mu_n \xrightarrow{i} \mathbb{G}_m \xrightarrow{(-)^n} \mathbb{G}_m \to 0 , \]
    where $\mathbb{G}_m = \ZZ[x^{\pm 1}]$ is the multiplicative group, and $\mu_n = \ZZ[x] / (x^n - 1)$ the group of units of order $n$.
\end{topic}

\begin{topic}{split-reductive-group}{split reductive group}
    A \tref{reductive-algebraic-group}{reductive algebraic group} $G$ is \textbf{split} if it contains a maximal \tref{algebraic-torus}{torus} which is \tref{algebraic-torus}{split}.
\end{topic}

\begin{topic}{langlands-dual-group}{Langlands dual group}
    Let $G$ be a \tref{TO:connected-space}{connected} \tref{reductive-algebraic-group}{reductive} \tref{algebraic-group}{algebraic group} over an \tref{AA:algebraically-closed-field}{algebraically closed field} $k$. Then the \textbf{Langlands dual group} of $G$ is the complex connected reductive algebraic group $^L G$ whose \tref{LA:root-datum}{root datum} is dual to that of $G$.
\end{topic}

\begin{example}{langlands-dual-group}
    The algebraic groups $\textup{SL}_2(\CC)$ and $\textup{PGL}_2(\CC)$ are each others Langlands dual. Indeed, the root datum of $\textup{SL}_2(\CC)$ is described as follows: the maximal torus $T = \left\{ \left( \begin{smallmatrix} t & 0 \\ 0 & t^{-1} \end{smallmatrix} \right) \right\} \subset \textup{SL}_2(\CC)$ acts on $\mathfrak{sl}_2$ by conjugation, that is,
    \[ \begin{pmatrix} t & 0 \\ 0 & t^{-1} \end{pmatrix} \begin{pmatrix} a & b \\ c & -a \end{pmatrix} \begin{pmatrix} t^{-1} & 0 \\ 0 & t \end{pmatrix} = \begin{pmatrix} a & t^2 b \\ t^{-2} c & -a \end{pmatrix} . \]
    Hence, the roots are $\alpha = \pm 2 \chi$, where $\chi : \left( \begin{smallmatrix} t & 0 \\ 0 & t^{-1} \end{smallmatrix} \right) \mapsto t$. The corresponding coroots are $\pm \lambda$, where $\lambda : t \mapsto \left( \begin{smallmatrix} t & 0 \\ 0 & t^{-1} \end{smallmatrix} \right)$, as $\langle 2 \chi, \lambda \rangle = \langle - 2 \chi, - \lambda \rangle = 2$. Hence, the root datum of $\textup{SL}_2(\CC)$ is $(\ZZ, \{ \pm 2 \}, \ZZ, \{ \pm 1 \})$.
    
    On the other hand, the root datum of $\textup{PGL}_2(\CC)$ is described as follows: the maximal torus $T = \left\{ \left( \begin{smallmatrix} t & 0 \\ 0 & 1 \end{smallmatrix} \right) \right\} \subset \textup{PGL}_2(\CC)$ acts on $\mathfrak{pgl}_2 = \mathfrak{gl}_2 / \{ \textup{scalars} \}$ by conjugation, that is,
    \[ \begin{pmatrix} t & 0 \\ 0 & 1 \end{pmatrix} \begin{pmatrix} a & b \\ c & d \end{pmatrix} \begin{pmatrix} t^{-1} & 0 \\ 0 & 1 \end{pmatrix} = \begin{pmatrix} a & t b \\ t^{-1} c & d \end{pmatrix} . \]
    Hence, the roots are $\alpha = \pm \chi$, where $\chi : \left( \begin{smallmatrix} t & 0 \\ 0 & 1 \end{smallmatrix} \right) \mapsto t$. The corresponding coroots are $\pm 2 \lambda$, where $\lambda : t \mapsto \left( \begin{smallmatrix} t & 0 \\ 0 & 1 \end{smallmatrix} \right)$, as $\langle \chi, 2 \lambda \rangle = \langle - \chi, - 2 \lambda \rangle = 2$. Hence, the root datum of $\textup{PGL}_2(\CC)$ is $(\ZZ, \{ \pm 1 \}, \ZZ, \{ \pm 2 \})$.
\end{example}

\begin{topic}{bruhat-decomposition}{Bruhat decomposition}
    Let $G$ be a \tref{TO:connected-space}{connected}, \tref{reductive-algebraic-group}{reductive} \tref{algebraic-group}{algebraic group} over an \tref{AA:algebraically-closed-field}{algebraically closed field} $k$, let $B \subset G$ be a \tref{borel-subgroup}{Borel subgroup}, and let $W$ be the \tref{LA:weyl-group}{Weyl group} of $G$ corresponding to a maximal \tref{algebraic-torus}{torus} of $T$. The \textbf{Bruhat decomposition} of $G$ is the decomposition
    \[ G = BWB = \bigsqcup_{w \in W} BwB . \]
\end{topic}

\begin{example}{bruhat-decomposition}
    Let $G = \textup{GL}_n(\CC)$ with $B \subset G$ the subgroup of upper triangular matrices, $T \subset G$ the subgroup of diagonal matrices, and $W$ the \tref{GT:symmetric-group}{symmetric group} $S_n$. The Bruhat decomposition says that for any $A \in G$, we can write $A = U P V$ with $U, V \in B$ and $P$ a \tref{LA:permutation-matrix}{permutation matrix}. Rewriting as $P = U^{-1} A V^{-1}$, this says any invertible matrix $A$ can be brought into a permutation matrix via row and column operations, where we can only add row $i$ to row $j$ if $i > j$, and column $i$ to column $j$ if $i < j$.
\end{example}

\begin{topic}{langs-theorem}{Lang's theorem}
    Let $G$ be an \tref{algebraic-group}{algebraic group} over a finite field $\FF_q$, and let $F : G \to G$ be the \tref{AA:frobenius-morphism}{Frobenius map}. The \textbf{Lang map} is the morphism
    \[ L : G \to G, \quad g \mapsto g^{-1} F(g) , \]
    and note that $\ker L = G^F$. \textbf{Lang's theorem} states that if $G$ is \tref{TO:connected-space}{connected}, then $L$ is surjective.
\end{topic}

\begin{example}{langs-theorem}
    \begin{proof}
        Note that $(dF)_1 = 0$ as $F(1) = 1$ and $q \ge 2$. Hence, $(dL)_1 = -1$ and in particular bijective. Therefore, the image $L(G)$ contains a (dense) open subset of $G$. Now, for any $x \in G$, let $L_x : G \to G$ be given by $g \mapsto g^{-1} x F(g)$. Then again, $(dL_x)_1$ is bijective, so $L_x(G)$ contains a (dense) open subset of $G$ as well. Therefore, $L(G) \cap L_x(G) \ne \varnothing$, so there exist $g, h \in G$ such that $g^{-1} F(g) = h^{-1} x F(h)$ and thus $x = hg^{-1} F(gh^{-1}) = L(gh^{-1})$, showing that $L$ is surjective.
    \end{proof}
\end{example}

\begin{topic}{categorical-quotient}{categorical quotient}
    Let $G$ be a \tref{group-scheme}{group scheme} acting on a \tref{scheme}{scheme} $X$ via $\sigma : G \times X \to X$. A \textbf{categorical quotient} for the action is a morphism $\pi : X \to Y$ such that
    \[ \begin{tikzcd} G \times_S X \arrow[shift left=0.25em]{r}{\sigma} \arrow[swap,shift right=0.25em]{r}{\pi_X} & X \arrow{r}{\pi} & Y \end{tikzcd} \]
    is a coequalizer diagram. That is, the diagram commutes and for every $f : X \to Z$ with $f \circ \sigma = f \circ \pi_X$ there exists a unique $g : Y \to Z$ such that $f = g \circ \pi$. Note that a categorical quotient (if it exists) is unique up to unique isomorphism.
\end{topic}

\begin{topic}{geometric-quotient}{geometric quotient}
    Let $G$ be a \tref{group-scheme}{group scheme} acting on a \tref{scheme}{scheme} $X$ via $\sigma : G \times X \to X$. A \textbf{geometric quotient} for the action is a morphism $\pi : X \to Y$ satisfying
    \begin{enumerate}[(i)]
        \item $\pi \circ \sigma = \pi \circ \pi_X$,
        \item $\pi$ is surjective, and the image of $\Psi = (\sigma, \pi_X) : G \times X \to X \times X$ is $X \times_Y X$ (or equivalently, the geometric fibers of $\pi$ are precisely the orbits of the geometric points of $X$),
        \item $\pi$ is \textit{submersive}, i.e. a subset $U \subset Y$ is open iff $\pi^{-1}(U) \subset X$ is open (i.e. $Y$ has a \tref{TO:quotient-topology}{quotient topology}),
        \item the structure sheaf $\mathcal{O}_Y$ is the subsheaf of $\pi_* \mathcal{O}_X$ consisting of invariant functions, i.e. if $\alpha \in \pi_* \mathcal{O}_X(U) = \mathcal{O}_X(\pi^{-1}(U))$ then $\alpha \in \mathcal{O}_Y(U)$ if and only if
        \[ \begin{tikzcd} G \times \pi^{-1}(U) \arrow{r}{\sigma} \arrow[swap]{d}{\pi_2} & \pi^{-1}(U) \arrow{d}{\alpha} \\ \pi^{-1}(U) \arrow{r}{\alpha} & \AA^1 \end{tikzcd} \]
        commutes.
    \end{enumerate}
\end{topic}

\begin{example}{geometric-quotient}
    Let $X = \AA^n - \{ 0 \}$ and $G = \mathbb{G}_m$ act on $X$ by scaling the coordinates. Then the map $\pi : \AA^n - \{ 0 \} \to \PP^{n - 1}$ is a geometric quotient.
    
    If we instead take $X = \AA^n$ with $G = \mathbb{G}_m$ acting on $X$ by scaling the coordinates, then the map $\pi' : \AA^n \to \{ \star \}$ is a \tref{categorical-quotient}{categorical quotient}, but not a geometric quotient: the only geometric fiber of $\pi'$ is the whole of $X$, but this is not the orbit of any geometric point of $X$. To be more precise, the image of $\Psi : (g, x) \mapsto (g \cdot x, x)$ is not the whole of $\AA^n \times \AA^n$.
\end{example}

\begin{example}{geometric-quotient}
    A geometric quotient $\pi : X \to Y$ is a \tref{categorical-quotient}{categorical quotient}. Namely, let $f : X \to Z$ be an $S$-morphism with $f \circ \sigma = f \circ p_2$. The goal is to construct a morphism $g : Y \to Z$ with $f = g \circ \pi$. Let $\{ V_i \}$ be an affine open covering of $Z$. Then $f^{-1}(V_i)$ is an invariant open subset of $X$ for each $i$, so by condition (ii), $f^{-1}(V_i) = \pi^{-1}(U_i)$ for \textit{some} subset $U_i \subset Y$. But then $U_i$ is open by (iii), and since $\pi$ is surjective, $\{ U_i \}$ is an open cover of $Y$. Now note that any morphism $g : Y \to Z$ with $f = g \circ \pi$ must satisfy $g(U_i) \subset V_i$. Hence it must be defined by a set of (compatible) morphisms $h_i : \mathcal{O}_Z(V_i) \to \mathcal{O}_Y(U_i)$ such that
    \[ \begin{tikzcd} \mathcal{O}_Z(V_i) \arrow{r}{h_i} \arrow{d}{f^*} & \mathcal{O}_Y(U_i) \arrow{d}{\pi^*} \\ \mathcal{O}_X(f^{-1}(V_i)) \arrow[equal]{r} & \mathcal{O}_X(\pi^{-1}(U_i)) \end{tikzcd} \]
    commutes. Since $\pi^*$ is injective by (iv), the $h_i$ are unique if they exist. Well, for any $\alpha \in \mathcal{O}_Z(V_i)$ we have that $\pi^*(\alpha)$ is an invariant element of $\mathcal{O}_X(\pi^{-1}(U_i))$ in the sense of (iv), hence it lies in the subring $\pi^*(\mathcal{O}_Y(U_i))$, so such $h_i$ exist.
    It remains to check that the $h_i$ agree on overlaps, so that they indeed glue to the desired $g : Y \to Z$.
\end{example}

\begin{topic}{affine-git-quotient}{affine GIT quotient}
    Let $G$ be a \tref{reductive-algebraic-group}{reductive} \tref{algebraic-group}{algebraic group} acting on an \tref{affine-scheme}{affine scheme} $X = \Spec R$. Then there is a dual action of $G$ on $R$ given by $\widehat{\sigma} : R \to R \otimes \mathcal{O}_G(G)$, yielding the \textit{ring of invariants}
    \[ R^G := \{ r \in R \mid \widehat{\sigma}(r) = r \otimes 1 \} . \]
    The \textbf{affine GIT quotient} of $X$ by $G$ is the morphism
    \[ \pi : X \to X \sslash G := \Spec\left(R^G\right) \]
    induced by the inclusion $R^G \to R$.
\end{topic}

\begin{example}{affine-git-quotient}
    \begin{itemize}
        \item For $X = \Spec k[x]$ and $G = \ZZ/2\ZZ$ acting on $X$ by $x \mapsto -x$, we have $k[x]^{\ZZ/2\ZZ} = k[x^2]$, so the affine GIT quotient is $\Spec k[x] \to \Spec k[y]$ given by $y \mapsto x^2$.
        \item For $X = \Spec k[\lambda, \lambda^{-1}, (\lambda \pm 1)^{-1}]$ and $G = \ZZ/2\ZZ$ acting on $X$ by $\lambda \mapsto -\lambda^{-1}$, we have $R^{\ZZ/2\ZZ} = k[\lambda + \lambda^{-1}, (\lambda + \lambda^{-1} \pm 2)^{-1}]$, so the affine GIT quotient is $\CC \setminus \{ 0, \pm 1 \} \to \CC \setminus \{ \pm 2 \}$ given by $\lambda \mapsto \lambda + \lambda^{-1}$.
        \item For $X = \AA^n = \Spec k[x_1, \ldots, x_n]$ and $G = \mathbb{G}_m$ acting on $X$ by $x_i \mapsto x_i \otimes t$, we have $k[x]^{\mathbb{G}_m} = k$, so the affine GIT quotient is $\AA^n \to \Spec k$.
    \end{itemize}
\end{example}

\begin{topic}{projective-git-quotient}{projective GIT quotient}
    Let $G$ be a \tref{reductive-algebraic-group}{reductive} \tref{algebraic-group}{algebraic group} acting on an \tref{algebraic-scheme}{algebraic scheme} $X$ over a field $k$, and let $\mathcal{L}$ be a \tref{equivariant-sheaf}{$G$-linearized} \tref{invertible-sheaf}{invertible sheaf} on $X$. The \textbf{projective GIT quotient} of $X$ by $G$ with respect to $\mathcal{L}$ is the morphism
    \[ \pi : X^\textup{ss}(\mathcal{L}) \to X \sslash_\mathcal{L} G := \text{Proj}\left(\bigoplus_{n \ge 0} H^0(X, \mathcal{L}^n)^G \right) , \]
    where
    \[ X^\textup{ss}(\mathcal{L}) = \left\{ x \in X : \exists s \in H^0(X, \mathcal{L}^n)^G \text{ for some $n \ge 0$ such that $s(x) \ne 0$ and $X_s$ is affine} \right\} \]
    denotes the \textit{semistable locus} of $X$. It is a uniform \tref{categorical-quotient}{categorical quotient}.
    
    Furthermore, there exists an open subset $U \subset X \sslash_\mathcal{L} G$ such that $\pi^{-1}(U)$ equals the set of \textit{stable points} \[ X^\textup{s}(\mathcal{L}) = \left\{ x \in X : \begin{array}{c} \exists s \in H^0(X, \mathcal{L}^n)^G \text{ for some $n \ge 0$ such that $s(x) \ne 0$,} \\ \text{$X_s$ is affine and the action of $G$ on $X_s$ is closed} \end{array} \right\} \]
    and the restriction $\pi|_{X^\textup{s}(\mathcal{L})} : X^\textup{s}(\mathcal{L}) \to U$ is a uniform \tref{geometric-quotient}{geometric quotient}.
\end{topic}

% \begin{topic}{projective-git-quotient}
%     Let $X = \AA^n_k$ and $G = \GG_m$ acting on $X$ by
%     \[ t \cdot (x_1, \ldots, x_n) = (t x_1, \ldots, t x_n) . \]
%     Take $\mathcal{L}$ by $(x_1, \ldots, x_n)$ with linearization $$
    
    
% \end{topic}

\begin{example}{projective-git-quotient}
    Note that the \tref{affine-git-quotient}{affine GIT quotient} can be seen as a particular (trivial) case of the projective GIT quotient. Given $X = \Spec R$ with an action of $G$, one can take the line bundle $\mathcal{L} = \mathcal{O}_X$ with linearization $\phi : \sigma^* \mathcal{O}_X \to p_2^* \mathcal{O}_X$ the identity. Then $H^0(X, \mathcal{O}_X^n)^G = R^G$ for any $n \ge 0$, and so
    \[ X \sslash_{\mathcal{L}} G = \operatorname{Proj} \left( \bigoplus_{n \ge 0} R^G \right) = \operatorname{Proj} \left( R^G[x] \right) = \PP^0_{\Spec \left( R^G \right) } = \Spec\left( R^G \right) , \]
    which is the affine GIT quotient. Note that $X^\textup{ss} = X$ as $1 \in R = H^0(X, \mathcal{L})$ is an invariant section which does not vanish on any point.
    
    In general, we have $H^0(X, \mathcal{L}^0)^G = \mathcal{O}_X(X)^G = R^G$ and hence there is always an induced map
    \[ X \sslash_{\mathcal{L}} G \to \Spec\left( R^G \right) \]
    to the affine GIT quotient.
\end{example}

\begin{topic}{no-name-lemma}{no-name lemma}
    Let $k$ be an \tref{AA:algebraically-closed-field}{algebraically closed field}, and $G$ a linear \tref{algebraic-group}{algebraic group} over $k$. Let $X$ be a \tref{variety}{variety} over $k$, with a $G$-action which is \textit{generically free}, i.e. there exists an open dense $U \subset X$ such that the stabilizer of any point $x \in U$ is trivial. Let $\pi : V \to X$ be a vector bundle of rank $r$, with a $G$-action on $V$ such that $\pi$ is $G$-equivariant and the action of any $g \in G$ restricts to a linear map $\pi^{-1}(x) \to \pi^{-1}(g \cdot x)$ for all $x \in X$. Then the \textbf{no-name lemma} states that there exists a $G$-equivariant \tref{birational-map}{birational map} $\phi : V \dashrightarrow X \times \AA^r_k$, where $G$ acts trivially on $\AA^r_k$, such that
    \[ \begin{tikzcd}
        V \arrow[dashed]{rr}{\phi} \arrow[swap]{rd}{\pi} && X \times \AA^r_k \arrow{dl}{\pi_X} \\
        & X &
    \end{tikzcd} \]
    commutes.
\end{topic}

\begin{topic}{kostant-rosenlicht-theorem}{Kostant--Rosenlicht theorem}
    Let $G$ be a \tref{unipotent-algebraic-group}{unipotent algebraic group} acting on an affine \tref{variety}{variety}. The \textbf{Kostant--Rosenlicht theorem} states that every orbit in $X$ is closed.
\end{topic}

\begin{example}{kostant-rosenlicht-theorem}
    \begin{proof}
        Let $O$ be an orbit of $G$ in $X$. Replacing $X$ with the closure of $O$, we may assume that $O$ is dense in $X$. The closed complement $Z = X \setminus O$ is not equal to $X$ as $O \ne \varnothing$, so the ideal $I(Z)$ in $\mathcal{O}_X(X)$ is nonzero. As $Z$ is stable under $G$, so is the ideal $I(Z)$, and because $G$ is unipotent, there exists a nonzero $f \in I(Z)^G$. Because $f$ is fixed by $G$, it is constant on $O$, and by continuity also on $X$. Hence, $I(Z)$ contains a nonzero constant, so $Z$ is empty, and it follows that $O = X$ is closed.
    \end{proof}
\end{example}

\begin{example}{kostant-rosenlicht-theorem}
    Consider the unipotent group $\mathbb{U}_2(k) = \left\{ \begin{pmatrix} 1 & a \\ 0 & 1 \end{pmatrix} \;:\; a \in k \right\}$ acting on the affine plane $\AA^2_k$ via
    \[ \begin{pmatrix} 1 & a \\ 0 & 1 \end{pmatrix} \begin{pmatrix} x \\ y \end{pmatrix} = \begin{pmatrix} x + ay \\ y \end{pmatrix} . \]
    Then the orbits are given by the points $(x, 0)$ for $x \in k$ and the lines $L_y = \{ (x, y) \;:\; x \in k \}$ for $y \ne 0$, all of which are indeed closed.
\end{example}

\begin{topic}{luna-stratification}{Luna stratification}
    Let $G$ be a \tref{reductive-algebraic-group}{reductive algebraic group} over an algebraically closed field $k$, acting on an \tref{affine-scheme}{affine} \tref{variety}{variety} $X$, and let $\pi : X \to X \sslash G = \Spec(\mathcal{O}_X(X)^G)$ be the \tref{affine-git-quotient}{GIT quotient}.
    Every fiber $\pi^{-1}(p)$, for $p \in X \sslash G$, has a unique closed orbit, so choose $x_p \in \pi^{-1}(p)$ such that this closed orbit equals $G \cdot x_p$. For any conjugacy class $(H)$ of reductive subgroups $H \subset G$, let 
    \[ (X \sslash G)_{(H)} = \{ p \in X \sslash G \mid \textup{Stab}(x_p) \in (H) \} , \]
    which is independent of the choice of the $x_p$. The \textbf{Luna stratification} of $X \sslash G$ is the stratification
    \[ X \sslash G = \bigsqcup_{(H)} (X \sslash G)_{(H)} . \]
\end{topic}

\begin{example}{luna-stratification}
    Let $G = \textup{SL}_2(\CC)$, and consider $G$ acting on itself by conjugation. The GIT quotient is given by the trace map
    \[ \pi : G \to G \sslash G \isom \AA^1, \quad A \mapsto \tr(A) . \]
    The fiber $\pi^{-1}(2)$ consists of the orbits of $I = \left(\begin{smallmatrix} 1 & 0 \\ 0 & 1 \end{smallmatrix}\right)$ and $J = \left(\begin{smallmatrix} 1 & 1 \\ 0 & 1 \end{smallmatrix} \right)$, so the unique closed orbit of $\pi^{-1}(2)$ is $\left\{ I \right\}$, as the closure of $G \cdot J$ contains $\lim_{a \to 0} \left(\begin{smallmatrix} 1 & a \\ 0 & 1 \end{smallmatrix}\right) = I \not\in G \cdot J$. Similarly, the unique closed orbit of the fiber $\pi^{-1}(-2)$ is $\left\{ -I \right\}$. In both cases, the corresponding stabilizer is equal to $G$.
    
    For $t \ne \pm 2$, the fiber $\pi^{-1}(t)$ is precisely the orbit of $\left(\begin{smallmatrix} \lambda & 0 \\ 0 & \lambda^{-1} \end{smallmatrix}\right)$, with $\lambda \in \CC \setminus \{ 0, \pm 1 \}$ such that $\lambda + \lambda^{-1} = t$, and the corresponding conjugacy class of stabilizers is $(D)$, where $D \subset G$ is the subgroup of diagonal matrices.
    
    Therefore, the Luna stratification of $G \sslash G \isom \AA^1$ is given by
    \[ \AA^1 = (G \sslash G)_{(G)} \sqcup (G \sslash G)_{(D)}  = \{ \pm 2 \} \sqcup (\AA^1 \setminus \{ \pm 2 \}) . \]
\end{example}

\begin{topic}{s-equivalence}{S-equivalence}
    Let $G$ be an \tref{algebraic-group}{algebraic group} acting on a \tref{variety}{variety} $X$. Two points $x, y \in X$ are called \textbf{$S$-equivalent} if the closures of the orbits of $x$ and $y$ intersect.
\end{topic}

\begin{example}{s-equivalence}
    Let $G = \GG_m$ act on $X = \Spec k[x, y]$ via $\alpha \cdot (x, y) = (\alpha x, \alpha^{-1} y)$. The orbits of $X$ are given by
    \[ \{ (0, 0) \}, \quad \{ (0, y) : y \ne 0  \}, \quad \{ (x, 0) : x \ne 0  \}, \quad \textup{ and } \quad \{ (x, y) : xy = a \}  \]
    for any $a \ne 0$. Note that the origin is contained in the closures of the second and third orbit. Hence, the points of the first three orbits are all $S$-equivalent.
    
    The \tref{affine-git-quotient}{GIT quotient} is given by
    \[ X \sslash \GG_m = \Spec k[x, y]^{\GG_m} = \Spec k[z] , \]
    with $z = xy$, and we see that $S$-equivalent points are identified under the quotient.
\end{example}

\begin{topic}{isogeny}{isogeny}
    Let $G$ and $H$ be \tref{algebraic-group}{algebraic groups}. An \textbf{isogeny} from $G$ to $H$ is a surjective morphism of algebraic groups $f : G \to H$ such that $\ker f$ is finite.
\end{topic}

\begin{example}{isogeny}
    The natural map $\textup{SL}_n(\CC) \to \textup{PGL}_n(\CC)$ is an isogeny for any $n \ge 1$, as it is surjective, and its kernel has order $n$.
\end{example}
